{
  "name": "db-mysql55-server",
  "chef_type": "role",
  "json_class": "Chef::Role",
  "description": "MySQL 5.5 database server",
  "default_attributes": {
    "mysql-libs": {
      "replace_package_targets": [
        "mysql55-libs",
        "Percona-Server-shared-51",
        "mysqlclient16"
      ]
    },
    "mysql": {
      "replace_package_target": "mysql55-server"
    },
    "services": {
      "mysql": ["enable", "start"]
    }
  },
  "override_attributes": {
    "mysql": {
      "remove_anonymous_users": true,
      "remove_test_database": true,
      "server": {
        "packages": [
          "mysql55-devel",
          "mysql55-server"
        ]
      }
    }
  },
  "run_list": [
    "yum-ius",
    "role[db-mysql-upgrade]",
    "recipe[mysql::server]",
    "recipe[config-driven-helper::services]",
    "recipe[config-driven-helper::mysql-databases]",
    "recipe[config-driven-helper::mysql-users]"
  ]
}
